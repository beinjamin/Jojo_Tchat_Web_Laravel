!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@inertiajs/inertia")):"function"==typeof define&&define.amd?define(["exports","@inertiajs/inertia"],t):t((e=e||self).InertiaVue={},e.Inertia)}(this,function(e,t){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var n={functional:!0,props:{data:{type:Object,default:function(){return{}}},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:!1},only:{type:Array,default:function(){return[]}},headers:{type:Object,default:function(){return{}}}},render:function(e,n){var o=n.props,i=n.data,a=n.children;return e("a",r({},i,{attrs:r({},i.attrs,{href:o.href}),on:r({},i.on||{},{click:function(e){i.on&&i.on.click&&i.on.click(e),t.shouldIntercept(e)&&(e.preventDefault(),t.Inertia.visit(o.href,{data:o.data,method:o.method,replace:o.replace,preserveScroll:o.preserveScroll,preserveState:o.preserveState,only:o.only,headers:o.headers}))}})}),a)}},o={created:function(){var e=this;if(this.$options.remember){Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),"string"==typeof this.$options.remember&&(this.$options.remember={data:[this.$options.remember]}),"string"==typeof this.$options.remember.data&&(this.$options.remember={data:[this.$options.remember.data]});var n=this.$options.remember.key instanceof Function?this.$options.remember.key():this.$options.remember.key,o=t.Inertia.restore(n);this.$options.remember.data.forEach(function(i){void 0!==o&&void 0!==o[i]&&(e[i]=o[i]),e.$watch(i,function(){t.Inertia.remember(e.$options.remember.data.reduce(function(t,n){var o;return r({},t,((o={})[n]=e[n],o))},{}),n)},{immediate:!0,deep:!0})})}}},i={};e.InertiaApp={name:"Inertia",props:{initialPage:{type:Object,required:!0},resolveComponent:{type:Function,required:!0},transformProps:{type:Function,default:function(e){return e}}},data:function(){return{component:null,props:{},key:null}},created:function(){var e=this;i=this,t.Inertia.init({initialPage:this.initialPage,resolveComponent:this.resolveComponent,updatePage:function(t,r,n){var o=n.preserveState;try{return e.component=t,e.props=e.transformProps(r),e.key=o?e.key:Date.now(),Promise.resolve()}catch(e){return Promise.reject(e)}}})},render:function(e){if(this.component){var t=e(this.component,{key:this.key,props:this.props,scopedSlots:this.$scopedSlots});return this.component.layout?"function"==typeof this.component.layout?this.component.layout(e,t):Array.isArray(this.component.layout)?this.component.layout.concat(t).reverse().reduce(function(t,r){return e(r,[t])}):e(this.component.layout,[t]):t}},install:function(e){Object.defineProperty(e.prototype,"$inertia",{get:function(){return t.Inertia}}),Object.defineProperty(e.prototype,"$page",{get:function(){return i.props}}),e.mixin(o),e.component("InertiaLink",n)}},e.InertiaLink=n});
//# sourceMappingURL=index.umd.js.map
